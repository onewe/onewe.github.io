<h1 id="mac开机启动v2ray">mac开机启动v2ray</h1>
<blockquote>
  <p>由于系统的问题,开不了机,所以重装了系统.记录下倒腾v2ray开启启动的过程</p>
</blockquote>

<p>mac os的开机启动项有很多种,再次记录一下利用LaunchAgents来达到启动程序的目的</p>

<h2 id="第一步先编写plist文件">第一步,先编写plist文件</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;
&lt;plist version="1.0"&gt;
&lt;dict&gt;
        &lt;key&gt;KeepAlive&lt;/key&gt; //保持后台运行
        &lt;true/&gt;
        &lt;key&gt;Label&lt;/key&gt;
        &lt;string&gt;com.doge.v2ray&lt;/string&gt; //名称,这里的名称最好与文件名一致
        &lt;key&gt;Program&lt;/key&gt;
        &lt;string&gt;/Users/doge/v2ray/v2ray-v3.14-macos/v2ray&lt;/string&gt;//执行文件的路径
        &lt;key&gt;RunAtLoad&lt;/key&gt;
        &lt;true/&gt;
        &lt;key&gt;UserName&lt;/key&gt;//用户名
        &lt;string&gt;doge&lt;/string&gt;
&lt;/dict&gt;
&lt;/plist&gt;
</code></pre></div></div>

<h2 id="第二步复制文件">第二步,复制文件</h2>
<ul>
  <li>检查<br />
  在复制文件之前,使用命令检查一下,文件是否正确<code class="language-plaintext highlighter-rouge">plutil com.doge.v2ray.plist</code></li>
  <li>复制<br />
  把刚才编写好的plist文件复制到<code class="language-plaintext highlighter-rouge">~/Library/LaunchAgents/</code> 目录中去,使用命令<code class="language-plaintext highlighter-rouge">cp com.doge.v2ray.plist ~/Library/LaunchAgents/</code></li>
  <li>加载<br />
  加载plist文件<code class="language-plaintext highlighter-rouge">launchctl load ~/Library/LaunchAgents/com.doge.v2ray.plist </code></li>
  <li>确认<br />
  确认文件是否被加载,命令<code class="language-plaintext highlighter-rouge">launchctl list | grep com.doge</code></li>
</ul>

<h2 id="第三步重启确认">第三步,重启确认</h2>
<p>重启系统查看是否生效.这里推荐Chrome浏览器的一个插件SwitchyOmega,配置代理十分方便.done</p>
