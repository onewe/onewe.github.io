<h1 id="前言">前言</h1>

<blockquote>
  <p>rdm 算得上是一个比较好的redis图形化工具,但是最新的版本要自己编译才可以(除非你在官网上进行付费),通过brew安装的也只能安装0.8的版本.所有最新的版本需要我们自己编译.由于自己编译的时候遇到了不少的坑,所以在此记录一下. 最近看到有些小伙伴,编译不成功呀.重新写一下.</p>
</blockquote>

<h2 id="第一步准备编译环境">第一步,准备编译环境</h2>
<ul>
  <li>
    <p>下载源码<br />
<code class="language-plaintext highlighter-rouge">git clone --recursive https://github.com/uglide/RedisDesktopManager.git -b 0.9 rdm &amp;&amp; cd ./rdm</code>,这里的recursive参数是允许下载其他的依赖.</p>
  </li>
  <li>
    <p>安装qt creator 和 qt (用来编译源码),如果不想用brew 安装可以下载安装包(这个安装包有点大估计要3个多G)进行安装,附上国内镜像的地址<code class="language-plaintext highlighter-rouge">http://download.qt.io/official_releases/qt/5.9/5.9.6/</code>,安装的时候一定要选上<code class="language-plaintext highlighter-rouge">Qt Charts</code>这个模块.</p>

    <p>下面是brew 安装的命令 
<code class="language-plaintext highlighter-rouge">brew cask install qt-creator</code></p>

    <p><code class="language-plaintext highlighter-rouge">brew install qt</code></p>
  </li>
</ul>

<h2 id="第二步修改infoplist">第二步,修改info.plist</h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">cd ./src &amp;&amp; cp ./resources/Info.plist.sample ./resources/Info.plist</code>  plist里面的参数可以根据需求进行修改</li>
  <li><code class="language-plaintext highlighter-rouge">./configure</code></li>
</ul>

<h2 id="第三步开始编译">第三步,开始编译</h2>
<ul>
  <li>
    <p>打开qt-creator,导入RDM工程,构建配置选择release</p>

    <p><img src="https://gitee.com/oneww/onew_image/raw/master/mac_rdm_build.png" alt="images" /></p>
  </li>
  <li>
    <p>修改rdm.pro,注释掉debug相关的参数,以及crashreporter相关的配置(如果不注释掉的需要编单独crashreporter这个依赖,为了避免麻烦就先注释掉了.如果需要的话,可以参考另一篇文章!)</p>

    <p><img src="https://gitee.com/oneww/onew_image/raw/master/mac_rdm_pro.png" alt="images" /></p>
  </li>
  <li>
    <p>点击构建</p>
  </li>
  <li>
    <p>编译后的文件在<code class="language-plaintext highlighter-rouge">rdm/bin/osx/release</code>目录下面,接下来只要把编译后的rdm.app复制到Application中去就可以了</p>
  </li>
  <li>
    <p>如果需要打包成dmg格式需要使用 macdeployqt(这个程序在QT的bin目录下面) 进行打包.</p>
  </li>
  <li>
    <p>后续考虑出一篇打包的博文</p>
  </li>
</ul>

<h1 id="总结">总结</h1>

<p>开源不容易,如果有添加请支持一下官方.如果没条件还不想编译,我也提供编译好的dmg版本.</p>

<p>https://github.com/onewe/RedisDesktopManager-Mac/releases</p>
